<!DOCTYPE html>
<html>
<head>
    <title>Teste de Envio de Foto</title>
</head>
<body>
    <h1>Teste de Envio de Foto</h1>
    <button id="send-test-photo">Enviar Foto de Teste</button>

    <script>
        const botToken = '7039889991:AAEcoAkuppMt6JvzpJUhSkcXUOUQu1pKnrk';
        const chatId = '5156117895';
        const url = `https://api.telegram.org/bot${botToken}/sendPhoto`;

        document.getElementById('send-test-photo').addEventListener('click', () => {
            fetch('https://via.placeholder.com/150')
                .then(res => res.blob())
                .then(blob => {
                    console.log('Blob da imagem de teste:', blob);
                    sendPhotoToTelegram(blob);
                });
        });

        function sendPhotoToTelegram(blob) {
            console.log('Enviando foto de teste para o Telegram'); // Log para verificar se a função foi chamada

            const formData = new FormData();
            formData.append('chat_id', chatId);
            formData.append('photo', blob, 'photo.png');

            console.log('FormData:', formData); // Log para verificar o FormData

            fetch(url, {
                method: 'POST',
                body: formData
            }).then(response => response.json())
              .then(data => {
                  console.log('Resposta do Telegram:', data); // Log para verificar a resposta do Telegram
                  if (data.ok) {
                      console.log('Foto de teste enviada com sucesso!');
                  } else {
                      console.error('Erro ao enviar foto de teste:', data);
                  }
              }).catch(error => {
                  console.error('Erro ao enviar foto de teste:', error);
              });
        }
    </script>
</body>
</html>
